{
  "name": "Happy Path Scenarios",
  "description": "Successful workflow scenarios with no errors",
  "scenarios": [
    {
      "name": "complete-update-success",
      "description": "Complete update workflow succeeds without issues",
      "state": {
        "selfUpdate": {
          "current_version": "1.9.4",
          "latest_version": "1.9.5",
          "channel": "stable",
          "supported": true
        },
        "pendingMigrations": [
          {
            "name": "CREATE TABLE tl_new_feature (id int(10) unsigned NOT NULL auto_increment, tstamp int(10) unsigned NOT NULL default '0', PRIMARY KEY (id))",
            "status": "pending",
            "message": "Adding table for new feature"
          },
          {
            "name": "ALTER TABLE tl_content ADD enhanced_field varchar(255) NOT NULL default ''",
            "status": "pending",
            "message": "Adding enhanced field to content"
          },
          {
            "name": "UPDATE tl_user SET admin=1 WHERE username='admin'",
            "status": "pending",
            "message": "Updating user permissions"
          }
        ],
        "localPackages": {
          "contao/core-bundle": {
            "name": "contao/core-bundle",
            "version": "5.3.34",
            "type": "contao-bundle",
            "description": "Contao CMS core bundle",
            "license": "LGPL-3.0-or-later",
            "authors": [
              { "name": "Leo Feyer", "email": "leo@contao.org" }
            ],
            "require": {
              "php": "^8.1",
              "symfony/framework-bundle": "^6.4"
            }
          },
          "contao/manager-bundle": {
            "name": "contao/manager-bundle",
            "version": "5.3.34",
            "type": "contao-bundle",
            "description": "Contao Manager bundle",
            "license": "LGPL-3.0-or-later"
          },
          "doctrine/dbal": {
            "name": "doctrine/dbal",
            "version": "3.8.3",
            "type": "library",
            "description": "Powerful PHP database abstraction layer (DBAL) with many features for database schema introspection and management.",
            "license": "MIT"
          },
          "oveleon/contao-cookiebar": {
            "name": "oveleon/contao-cookiebar",
            "version": "2.1.4",
            "type": "contao-bundle",
            "description": "Cookie management for Contao CMS",
            "license": "MIT"
          }
        },
        "users": [
          {
            "username": "admin",
            "scope": "admin",
            "passkey": false,
            "totp_enabled": true,
            "limited": false
          },
          {
            "username": "developer",
            "scope": "install",
            "passkey": false,
            "totp_enabled": false,
            "limited": false
          }
        ],
        "scenarios": {
          "networkLatency": 50
        }
      }
    },
    {
      "name": "no-updates-needed",
      "description": "No manager updates or migrations needed",
      "state": {
        "selfUpdate": {
          "current_version": "1.9.5",
          "latest_version": "1.9.5",
          "channel": "stable",
          "supported": true
        },
        "pendingMigrations": [],
        "scenarios": {
          "networkLatency": 30
        }
      }
    },
    {
      "name": "manager-update-only",
      "description": "Only manager needs updating, no migrations",
      "state": {
        "selfUpdate": {
          "current_version": "1.9.3",
          "latest_version": "1.9.5", 
          "channel": "stable",
          "supported": true
        },
        "pendingMigrations": [],
        "scenarios": {
          "networkLatency": 40
        }
      }
    },
    {
      "name": "migrations-only",
      "description": "Manager is up to date, only migrations needed",
      "state": {
        "selfUpdate": {
          "current_version": "1.9.5",
          "latest_version": "1.9.5",
          "channel": "stable",
          "supported": true
        },
        "pendingMigrations": [
          {
            "name": "ALTER TABLE tl_user ADD COLUMN last_login_ip",
            "status": "pending", 
            "message": "Adding IP tracking field"
          }
        ],
        "scenarios": {
          "networkLatency": 35
        }
      }
    },
    {
      "name": "dry-run-success",
      "description": "Composer dry run completes successfully",
      "state": {
        "selfUpdate": {
          "current_version": "1.9.5",
          "latest_version": "1.9.5", 
          "channel": "stable",
          "supported": true
        },
        "localPackages": {
          "contao/core-bundle": {
            "name": "contao/core-bundle",
            "version": "5.3.37",
            "type": "contao-bundle",
            "description": "Contao CMS core bundle",
            "license": "LGPL-3.0-or-later",
            "authors": [
              { "name": "Leo Feyer", "email": "leo@contao.org" }
            ]
          },
          "contao/news-bundle": {
            "name": "contao/news-bundle",
            "version": "5.3.37",
            "type": "contao-bundle",
            "description": "Contao news bundle",
            "license": "LGPL-3.0-or-later"
          },
          "symfony/clock": {
            "name": "symfony/clock",
            "version": "6.4.8",
            "type": "library",
            "description": "Decouples applications from the system clock",
            "license": "MIT"
          }
        },
        "pendingMigrations": [],
        "scenarios": {
          "networkLatency": 25
        }
      }
    }
  ]
}